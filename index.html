<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Typing Speed App – Adaptive + Heatmap</title>
  <link rel="stylesheet" href="style.css">
</head>
<body data-theme="dark">
<header>
  <div class="brand">⌨️ Typing Lab</div>
  <div class="controls">
    <select id="mode">
      <option value="time-30">30s timed</option>
      <option value="time-60" selected>60s timed</option>
      <option value="time-120">120s timed</option>
      <option value="words-25">25 words</option>
      <option value="words-50">50 words</option>
      <option value="words-100">100 words</option>
    </select>
    <select id="source">
      <option value="random" selected>Random words</option>
      <option value="punct">Words + punctuation</option>
      <option value="custom">Custom text</option>
    </select>
    <label class="toggle"><input type="checkbox" id="blind"> Blind mode</label>
    <label class="toggle"><input type="checkbox" id="sounds"> Key sound</label>
    <label class="toggle"><input type="checkbox" id="theme"> Light theme</label>
  </div>
</header>

<main>
  <div class="row">
    <div class="col">
      <div class="card typing-wrap">
        <div class="bar"><span id="progress"></span></div>
        <div id="text" class="text" tabindex="0"></div>
        <div id="caret" class="caret"></div>

        <div class="actions">
          <button id="startBtn">Start (Space)</button>
          <button id="resetBtn" class="secondary">Reset</button>
          <button id="practiceBtn" class="ghost">Practice mistakes</button>
          <span class="pill" id="difficultyFlag">difficulty: basic</span>
        </div>

        <div class="stats">
          <div class="stat"><span class="label">WPM</span><span class="value" id="wpm">0</span></div>
          <div class="stat"><span class="label">Raw WPM</span><span class="value" id="raw">0</span></div>
          <div class="stat"><span class="label">Accuracy</span><span class="value" id="acc">100%</span></div>
          <div class="stat"><span class="label">Errors</span><span class="value" id="errors">0</span></div>
          <div class="stat"><span class="label">Consistency</span><span class="value" id="cons">—</span></div>
        </div>
      </div>

      <div class="card">
        <h3>Keyboard heatmap</h3>
        <div id="kbd" class="kbd"></div>
        <div class="note">Shows where mistakes cluster. Darker/warmer = more errors. Worst key outlined.</div>
      </div>
    </div>

    <div class="col">
      <div class="card">
        <h3>Custom text (optional)</h3>
        <textarea id="customText" class="custom"></textarea>
        <div class="note">Paste text to practice. Then select "Custom text".</div>
      </div>

      <div class="card">
        <h3>Local leaderboard</h3>
        <table class="table" id="board">
          <thead><tr><th>Date</th><th>Mode</th><th>WPM</th><th>Accuracy</th><th>Errors</th></tr></thead>
          <tbody></tbody>
        </table>
        <div class="actions">
          <button id="exportBtn" class="secondary">Export results JSON</button>
          <button id="clearBtn" class="ghost">Clear leaderboard</button>
        </div>
        <div class="note">Stored only in your browser (no network).</div>
      </div>
    </div>
  </div>
</main>

<script src="script.js"></script>
</body>
</html>
